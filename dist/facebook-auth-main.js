(function e(t,o){if(typeof exports==="object"&&typeof module==="object")module.exports=o(require("react"));else if(typeof define==="function"&&define.amd)define(["react"],o);else if(typeof exports==="object")exports["FacebookLogin"]=o(require("react"));else t["FacebookLogin"]=o(t["react"])})(window,function(o){return function(o){var n={};function r(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};o[e].call(t.exports,t,t.exports,r);t.l=true;return t.exports}r.m=o;r.c=n;r.d=function(e,t,o){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:o})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(t,e){if(e&1)t=r(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var o=Object.create(null);r.r(o);Object.defineProperty(o,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o};r.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};r.d(e,"a",e);return e};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o){if(Object.prototype.hasOwnProperty.call(o,n)){e[n]=o[n]}}}return e};var r=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,o){if(t)n(e.prototype,t);if(o)n(e,o);return e}}();var i=o(2);var s=p(i);var a=o(3);var u=p(a);var c=o(6);var l=p(c);var f=o(7);var d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){y(t,e);function t(e){g(this,t);var s=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.responseApi=function(t){window.FB.api("/me",{locale:s.props.language,fields:s.props.fields},function(e){n(e,t);s.props.callback(e)})};s.checkLoginState=function(e){var t=false;if(e.authResponse){s.responseApi(e.authResponse);t=true}else{if(s.props.onFailure){s.props.onFailure({status:e.status})}else{s.props.callback({status:e.status})}}s.setState({isProcessing:false,isLoggedIn:t})};s.checkoutLogoutState=function(e){var t=true;if(e.authResponse){t=false}else{if(s.props.onFailure){s.props.onFailure({status:e.status})}else{s.props.callback({status:e.status})}}s.setState({isProcessing:false,isLoggedIn:t})};s.checkLoginAfterRefresh=function(e){if(e.status==="connected"){s.checkLoginState(e)}else{window.FB.login(function(e){return s.checkLoginState(e)},true)}};s.handleLoginClick=function(e){if(!s.state.isSdkLoaded||s.state.isProcessing||s.props.isDisabled){return}s.setState({isProcessing:true});var t=s.props,o=t.scope,n=t.onLoginClick,r=t.returnScopes,i=t.authType;if(!window.FB){if(s.props.onFailure){s.props.onFailure({status:"facebookNotLoaded"})}return}window.FB.login(s.checkLoginState,{scope:o,return_scopes:r,auth_type:i})};s.handleLogoutClick=function(e){if(!s.state.isSdkLoaded||s.state.isProcessing||s.props.isDisabled){return}s.setState({isProcessing:true});if(!window.FB){if(s.props.onFailure){s.props.onFailure({status:"facebookNotLoaded"})}return}window.FB.logout(s.checkoutLogoutState)};s.state={isSdkLoaded:false,isProcessing:false,isLoggedIn:false};return s}r(t,[{key:"componentDidMount",value:function e(){this._isMounted=true;if(document.getElementById("facebook-jssdk")){this.sdkLoaded();return}this.setFbAsyncInit();this.loadSdkAsynchronously();var t=document.getElementById("fb-root");if(!t){t=document.createElement("div");t.id="fb-root";document.body.appendChild(t)}}},{key:"componentWillReceiveProps",value:function e(t){if(this.state.isSdkLoaded&&t.autoLoad&&!this.props.autoLoad){window.FB.getLoginStatus(this.checkLoginAfterRefresh)}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"setStateIfMounted",value:function e(t){if(this._isMounted){this.setState(t)}}},{key:"setFbAsyncInit",value:function e(){var t=this;var o=this.props,n=o.appId,r=o.xfbml,i=o.cookie,s=o.version,a=o.autoLoad;window.fbAsyncInit=function(){window.FB.init({version:"v"+s,appId:n,xfbml:r,cookie:i});t.setStateIfMounted({isSdkLoaded:true});if(a||t.isRedirectedFromFb()){window.FB.getLoginStatus(t.checkLoginAfterRefresh)}}}},{key:"isRedirectedFromFb",value:function e(){var t=window.location.search;return(0,l.default)(t,"code")||(0,l.default)(t,"granted_scopes")}},{key:"sdkLoaded",value:function e(){this.setState({isSdkLoaded:true})}},{key:"loadSdkAsynchronously",value:function e(){var s=this.props.language;(function(e,t,o){var n=e.getElementsByTagName(t)[0];var r=n;var i=n;if(e.getElementById(o)){return}i=e.createElement(t);i.id=o;i.src="https://connect.facebook.net/"+s+"/sdk.js";r.parentNode.insertBefore(i,r)})(document,"script","facebook-jssdk")}},{key:"render",value:function e(){var t=this.props,o=t.loginJSX,n=t.logoutJSX;var r=this.state.isLoggedIn;if(!(o||n)){throw new Error("ReactFacebookLogin requires a render prop to render")}var i={onLoginClick:this.handleLoginClick,onLogoutClick:this.handleLogoutClick,isDisabled:!!this.props.isDisabled,isProcessing:this.state.isProcessing,isSdkLoaded:this.state.isSdkLoaded};return!r?s.default.createElement("div",{className:(0,d.default)({disabled:isDisabled}),onClick:i.onLoginClick},o):s.default.createElement("div",{className:(0,d.default)({disabled:isDisabled}),onClick:i.onLogoutClick},n)}}]);return t}(s.default.Component);h.propTypes={isDisabled:u.default.bool,callback:u.default.func.isRequired,appId:u.default.string.isRequired,xfbml:u.default.bool,cookie:u.default.bool,authType:u.default.string,scope:u.default.string,state:u.default.string,responseType:u.default.string,returnScopes:u.default.bool,redirectUri:u.default.string,autoLoad:u.default.bool,fields:u.default.string,version:u.default.string,language:u.default.string,onFailure:u.default.func,loginJSX:u.default.node.isRequired,logoutJSX:u.default.node.isRequired};h.defaultProps={redirectUri:typeof window!=="undefined"?window.location.href:"/",scope:"public_profile,email",returnScopes:false,xfbml:false,cookie:false,authType:"",fields:"name",version:"3.1",language:"en_US",disableMobileRedirect:false,onFailure:null,state:"facebookdirect",responseType:"code"};t.default=h},function(e,t){e.exports=o},function(e,t,o){if(false){var n,r}else{e.exports=o(4)()}},function(e,t,o){"use strict";var a=o(5);function n(){}function r(){}r.resetWarningCache=n;e.exports=function(){function e(e,t,o,n,r,i){if(i===a){return}var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");s.name="Invariant Violation";throw s}e.isRequired=e;function t(){return e}var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};o.PropTypes=o;return o}},function(e,t,o){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},function(e,t,o){var n,r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
(function(){"use strict";var s={}.hasOwnProperty;function a(){var e=[];for(var t=0;t<arguments.length;t++){var o=arguments[t];if(!o)continue;var n=typeof o;if(n==="string"||n==="number"){e.push(o)}else if(Array.isArray(o)&&o.length){var r=a.apply(null,o);if(r){e.push(r)}}else if(n==="object"){for(var i in o){if(s.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if(true&&e.exports){a.default=a;e.exports=a}else if(true){!(n=[],r=function(){return a}.apply(t,n),r!==undefined&&(e.exports=r))}else{}})()}])});